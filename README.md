# OpenCV HUD Editor

–Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–≤–µ—Ä–ª–µ—ó–≤ HUD –∑ –µ–∫—Å–ø–æ—Ä—Ç–æ–º —É OpenCV –∫–æ–¥.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
pyqt_app/
‚îú‚îÄ‚îÄ opencv_draw_editor_new.py  # –ì–æ–ª–æ–≤–Ω–∏–π —Ñ–∞–π–ª –∑–∞–ø—É—Å–∫—É
‚îú‚îÄ‚îÄ main_window.py             # –ì–æ–ª–æ–≤–Ω–µ –≤—ñ–∫–Ω–æ –¥–æ–¥–∞—Ç–∫—É
‚îú‚îÄ‚îÄ canvas_widget.py           # –í—ñ–¥–∂–µ—Ç –º–∞–ª—é–≤–∞–Ω–Ω—è
‚îú‚îÄ‚îÄ shape.py                   # –ö–ª–∞—Å —Ñ—ñ–≥—É—Ä–∏
‚îú‚îÄ‚îÄ constants.py               # –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏ —Ç–∞ –ø—Ä–µ—Å–µ—Ç–∏
‚îî‚îÄ‚îÄ opencv_draw_editor.py      # –°—Ç–∞—Ä–∏–π –º–æ–Ω–æ–ª—ñ—Ç–Ω–∏–π —Ñ–∞–π–ª (—Ä–µ–∑–µ—Ä–≤)
```

## –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª

### –†–µ–∂–∏–º–∏ —Ä–æ–±–æ—Ç–∏

- **Pan (P)** ‚Äî –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è –ø–æ–ª–æ—Ç–Ω–∞ (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º)
- **Select (S)** ‚Äî –≤–∏–±—ñ—Ä —Ç–∞ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Ñ—ñ–≥—É—Ä
- **Line (L)** ‚Äî –º–∞–ª—é–≤–∞–Ω–Ω—è –ª—ñ–Ω—ñ–π
- **Circle (C)** ‚Äî –º–∞–ª—é–≤–∞–Ω–Ω—è –∫—ñ–ª
- **Text (T)** ‚Äî –¥–æ–¥–∞–≤–∞–Ω–Ω—è —Ç–µ–∫—Å—Ç—É (—Ü–∏—Ñ—Ä–∏, –Ω–∞–ø–∏—Å)
- **Point (D)** ‚Äî –º–∞–ª—é–≤–∞–Ω–Ω—è —Ç–æ—á–æ–∫/–∫—Ä–∞–ø–æ–∫
- **Rectangle (R)** ‚Äî –º–∞–ª—é–≤–∞–Ω–Ω—è –ø—Ä—è–º–æ–∫—É—Ç–Ω–∏–∫—ñ–≤
- **Arrow (A)** ‚Äî –º–∞–ª—é–≤–∞–Ω–Ω—è —Å—Ç—Ä—ñ–ª–æ–∫
- **Polygon (Y)** ‚Äî –º–∞–ª—é–≤–∞–Ω–Ω—è –ø–æ–ª—ñ–≥–æ–Ω—ñ–≤ (–¥–æ–≤—ñ–ª—å–Ω—ñ –±–∞–≥–∞—Ç–æ–∫—É—Ç–Ω–∏–∫–∏)
- **Ellipse (E)** ‚Äî –º–∞–ª—é–≤–∞–Ω–Ω—è –µ–ª—ñ–ø—Å—ñ–≤

### –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –º–∞–ª—é–≤–∞–Ω–Ω—è

- –í–∏–±—ñ—Ä –∫–æ–ª—å–æ—Ä—É –∑ –ø—Ä–µ—Å–µ—Ç—ñ–≤ –∞–±–æ custom color picker
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–æ–≤—â–∏–Ω–∏ –ª—ñ–Ω—ñ–π (1-20 px)
- –í–∏–±—ñ—Ä —Å—Ç–∏–ª—é (default, horizontal, vertical, accent)
- **–°—Ç–∏–ª—å –ª—ñ–Ω—ñ—ó** (solid, dashed, dotted) ‚Äî —Å—É—Ü—ñ–ª—å–Ω—ñ, –ø—É–Ω–∫—Ç–∏—Ä–Ω—ñ –∞–±–æ —Ç–æ—á–∫–æ–≤—ñ –ª—ñ–Ω—ñ—ó
- **Filled** (checkbox) ‚Äî –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è —Ñ—ñ–≥—É—Ä (–¥–ª—è –∫—ñ–ª, –ø—Ä—è–º–æ–∫—É—Ç–Ω–∏–∫—ñ–≤, –µ–ª—ñ–ø—Å—ñ–≤, –ø–æ–ª—ñ–≥–æ–Ω—ñ–≤)
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ä–æ–∑–º—ñ—Ä—É —à—Ä–∏—Ñ—Ç—É –¥–ª—è —Ç–µ–∫—Å—Ç—É (0.5-5.0)

**–ú–∞–ª—é–≤–∞–Ω–Ω—è drag-to-draw:**
- **Line:** –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å ‚Üí —Ç—è–≥–Ω—ñ—Ç—å ‚Üí –≤—ñ–¥–ø—É—Å—Ç—ñ—Ç—å
- **Circle:** –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å ‚Üí —Ç—è–≥–Ω—ñ—Ç—å –≤—ñ–¥ —Ü–µ–Ω—Ç—Ä—É ‚Üí –≤—ñ–¥–ø—É—Å—Ç—ñ—Ç—å (—Ä–∞–¥—ñ—É—Å)
- **Rectangle:** –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å ‚Üí —Ç—è–≥–Ω—ñ—Ç—å ‚Üí –≤—ñ–¥–ø—É—Å—Ç—ñ—Ç—å (–ø—Ä–æ—Ç–∏–ª–µ–∂–Ω–∏–π –∫—É—Ç)
- **Arrow:** –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å ‚Üí —Ç—è–≥–Ω—ñ—Ç—å ‚Üí –≤—ñ–¥–ø—É—Å—Ç—ñ—Ç—å (–Ω–∞–ø—Ä—è–º–æ–∫ —Å—Ç—Ä—ñ–ª–∫–∏)
- **Ellipse:** –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å ‚Üí —Ç—è–≥–Ω—ñ—Ç—å ‚Üí –≤—ñ–¥–ø—É—Å—Ç—ñ—Ç—å (–æ—Å—ñ –µ–ª—ñ–ø—Å–∞)
- **Polygon:** –ö–ª—ñ–∫–∞–π—Ç–µ –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è —Ç–æ—á–æ–∫ ‚Üí –ø—Ä–∞–≤–∏–π –∫–ª—ñ–∫ –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è (–º—ñ–Ω—ñ–º—É–º 3 —Ç–æ—á–∫–∏)
- **Point:** –ü—Ä–æ—Å—Ç–æ –∫–ª—ñ–∫–Ω—ñ—Ç—å –¥–ª—è —Ä–æ–∑–º—ñ—â–µ–Ω–Ω—è –∫—Ä–∞–ø–∫–∏
- **Text:** –ü—Ä–æ—Å—Ç–æ –∫–ª—ñ–∫–Ω—ñ—Ç—å —ñ –≤–≤–µ–¥—ñ—Ç—å —Ç–µ–∫—Å—Ç
- –ü—ñ–¥ —á–∞—Å –º–∞–ª—é–≤–∞–Ω–Ω—è –≤–∏–¥–Ω–æ –ø—Ä–µ–≤'—é —Ñ—ñ–≥—É—Ä–∏

### –í–∏–±—ñ—Ä —Ç–∞ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è

- **–ö–ª—ñ–∫** ‚Äî –≤–∏–±—Ä–∞—Ç–∏ —Ñ—ñ–≥—É—Ä—É
- **Ctrl + –ö–ª—ñ–∫** ‚Äî –¥–æ–¥–∞—Ç–∏/–ø—Ä–∏–±—Ä–∞—Ç–∏ —Ñ—ñ–≥—É—Ä—É –∑ –≤–∏–¥—ñ–ª–µ–Ω–Ω—è
- **Drag** ‚Äî –≤–∏–±—Ä–∞—Ç–∏ –æ–±–ª–∞—Å—Ç—å —Ä–∞–º–∫–æ—é –∞–±–æ –ø–µ—Ä–µ–º—ñ—â—É–≤–∞—Ç–∏ –≤–∏–±—Ä–∞–Ω—ñ —Ñ—ñ–≥—É—Ä–∏
- **Ctrl + C** ‚Äî –∫–æ–ø—ñ—é–≤–∞—Ç–∏ –≤–∏–±—Ä–∞–Ω—ñ —Ñ—ñ–≥—É—Ä–∏
- **Ctrl + V** ‚Äî –≤—Å—Ç–∞–≤–∏—Ç–∏ —Ñ—ñ–≥—É—Ä–∏ (–∑—ñ –∑—Å—É–≤–æ–º 30px –ø–æ –¥—ñ–∞–≥–æ–Ω–∞–ª—ñ)
- **Delete** ‚Äî –≤–∏–¥–∞–ª–∏—Ç–∏ –≤–∏–±—Ä–∞–Ω—ñ —Ñ—ñ–≥—É—Ä–∏
- **Flip H** ‚Äî —Å—Ç–≤–æ—Ä–∏—Ç–∏ –≤—ñ–¥–∑–µ—Ä–∫–∞–ª–µ–Ω—ñ –∫–æ–ø—ñ—ó –ø—Ä–∞–≤–æ—Ä—É—á (–∑ –∑–∞–∑–æ—Ä–æ–º 20px)
- **Flip V** ‚Äî —Å—Ç–≤–æ—Ä–∏—Ç–∏ –≤—ñ–¥–∑–µ—Ä–∫–∞–ª–µ–Ω—ñ –∫–æ–ø—ñ—ó –∑–Ω–∏–∑—É (–∑ –∑–∞–∑–æ—Ä–æ–º 20px)

### üé® –ü–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –ª—ñ–Ω—ñ–π —É –∫—Ä–∏–≤—ñ (–ù–û–í–ê –§–£–ù–ö–¶–Ü–Ø!)

- **–ö–ª—ñ–∫ –Ω–∞ —Å–µ—Ä–µ–¥–∏–Ω—É –ª—ñ–Ω—ñ—ó + –ø–æ—Ç—è–≥—Ç–∏** ‚Äî –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏ –ø—Ä—è–º—É –ª—ñ–Ω—ñ—é –≤ –∫—Ä–∏–≤—É –ë–µ–∑—å—î
- –ü—Ä–∞—Ü—é—î –¥–ª—è **–±—É–¥—å-—è–∫–∏—Ö –ª—ñ–Ω—ñ–π** (—Å—É—Ü—ñ–ª—å–Ω–∏—Ö, –ø—É–Ω–∫—Ç–∏—Ä–Ω–∏—Ö, —Ç–æ—á–∫–æ–≤–∏—Ö)
- –ü—Ä–∞—Ü—é—î —Ç–∞–∫–æ–∂ –¥–ª—è **—Å—Ç—Ä—ñ–ª–æ–∫**
- –ü—ñ—Å–ª—è –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑'—è–≤–ª—è—î—Ç—å—Å—è **–∂–æ–≤—Ç–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞ —Ç–æ—á–∫–∞**
- **–¢—è–≥–Ω—ñ—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—É —Ç–æ—á–∫—É** —â–æ–± –∑–º—ñ–Ω–∏—Ç–∏ —Ñ–æ—Ä–º—É –∫—Ä–∏–≤–æ—ó
- –ö—Ä–∏–≤—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ JSON —ñ –µ–∫—Å–ø–æ—Ä—Ç—É—é—Ç—å—Å—è –≤ OpenCV
- –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–∏—Ö —Ç–æ—á–æ–∫ –¥–ª—è –≤–∏–±—Ä–∞–Ω–∏—Ö –∫—Ä–∏–≤–∏—Ö

**–ü–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è —Ñ—ñ–≥—É—Ä:**
1. –í–∏–±–µ—Ä—ñ—Ç—å –æ–¥–Ω—É –∞–±–æ –∫—ñ–ª—å–∫–∞ —Ñ—ñ–≥—É—Ä
2. –ö–ª—ñ–∫–Ω—ñ—Ç—å –Ω–∞ –≤–∏–±—Ä–∞–Ω—É —Ñ—ñ–≥—É—Ä—É —ñ —Ç—è–≥–Ω—ñ—Ç—å
3. –í—Å—ñ –≤–∏–±—Ä–∞–Ω—ñ —Ñ—ñ–≥—É—Ä–∏ –ø–µ—Ä–µ–º—ñ—â—É—é—Ç—å—Å—è —Ä–∞–∑–æ–º

**–†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π:**
1. –í–∏–±–µ—Ä—ñ—Ç—å –æ–¥–Ω—É –∞–±–æ –∫—ñ–ª—å–∫–∞ —Ñ—ñ–≥—É—Ä
2. –ó–º—ñ–Ω—ñ—Ç—å –∫–æ–ª—ñ—Ä/—Ç–æ–≤—â–∏–Ω—É/—Å—Ç–∏–ª—å —É –ø–∞–Ω–µ–ª—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤
3. –í–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ –≤—Å—ñ—Ö –≤–∏–±—Ä–∞–Ω–∏—Ö —Ñ—ñ–≥—É—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–Ω–æ–≤–ª—è—Ç—å—Å—è

**–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫—Ä–∏–≤–∏—Ö –∑ –ª—ñ–Ω—ñ–π:**
1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ —Ä–µ–∂–∏–º –≤–∏–±–æ—Ä—É (S)
2. –ö–ª—ñ–∫–Ω—ñ—Ç—å –Ω–∞ —Å–µ—Ä–µ–¥–∏–Ω—É –±—É–¥—å-—è–∫–æ—ó –ª—ñ–Ω—ñ—ó –∞–±–æ —Å—Ç—Ä—ñ–ª–∫–∏
3. –ü–æ—Ç—è–≥–Ω—ñ—Ç—å –º–∏—à–∫–æ—é ‚Äî –ª—ñ–Ω—ñ—è –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç—å—Å—è –≤ –∫—Ä–∏–≤—É
4. –ñ–æ–≤—Ç–∞ –∫—Ä–∞–ø–∫–∞ ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞ —Ç–æ—á–∫–∞ –∫—Ä–∏–≤–æ—ó –ë–µ–∑—å—î
5. –ú–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–º—ñ—â—É–≤–∞—Ç–∏ –∫—Ä–∏–≤—É –∞–±–æ —Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—É —Ç–æ—á–∫—É
6. –ö—Ä–∏–≤—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —ñ –µ–∫—Å–ø–æ—Ä—Ç—É—é—Ç—å—Å—è —è–∫ –∑–≤–∏—á–∞–π–Ω—ñ —Ñ—ñ–≥—É—Ä–∏

### –î–æ–ø–æ–º—ñ–∂–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏

- **–°—ñ—Ç–∫–∞** –∑ –∫—Ä–æ–∫–æ–º 20px (–∂–∏—Ä–Ω—ñ—à—ñ –ª—ñ–Ω—ñ—ó –∫–æ–∂–Ω—ñ 5 –∫–ª—ñ—Ç–æ–∫)
- **Snap to Grid (G)** ‚Äî –ø—Ä–∏–≤'—è–∑–∫–∞ –¥–æ —Å—ñ—Ç–∫–∏
- **Shift** ‚Äî –ø—Ä–∏–º—É—Å–æ–≤–µ –≤–∏—Ä—ñ–≤–Ω—é–≤–∞–Ω–Ω—è (–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ/–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ)
- **–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ñ –æ—Å—ñ** ‚Äî –ø—É–Ω–∫—Ç–∏—Ä–Ω—ñ –ª—ñ–Ω—ñ—ó —á–µ—Ä–µ–∑ —Ü–µ–Ω—Ç—Ä –∫–∞–Ω–≤–∞—Å—É

### –ù–∞–≤—ñ–≥–∞—Ü—ñ—è

- **–õ—ñ–≤–∞ –∫–Ω–æ–ø–∫–∞ –º–∏—à—ñ (Pan mode)** ‚Äî –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è –ø–æ–ª–æ—Ç–Ω–∞ (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º)
- **–ö–æ–ª–µ—Å–æ –º–∏—à—ñ** ‚Äî –∑—É–º (10% –¥–æ 1000%)
- **–°–µ—Ä–µ–¥–Ω—è –∫–Ω–æ–ø–∫–∞ –º–∏—à—ñ** ‚Äî –ø–∞–Ω—É–≤–∞–Ω–Ω—è (—É –±—É–¥—å-—è–∫–æ–º—É —Ä–µ–∂–∏–º—ñ)
- **0 / Home** ‚Äî —Å–∫–∏–Ω—É—Ç–∏ –∑—É–º —Ç–∞ –ø–∞–Ω—É–≤–∞–Ω–Ω—è
- **P / Escape / Right click** ‚Äî –ø–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ —Ä–µ–∂–∏–º—É Pan

### –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç—ñ–≤

- **Save Project (Ctrl+S)** ‚Äî –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç—É —É JSON —Ñ–æ—Ä–º–∞—Ç
- **Load Project (Ctrl+O)** ‚Äî –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç—É –∑ JSON
- –¢–æ—á–Ω–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤—Å—ñ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ —Ñ—ñ–≥—É—Ä
- –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –ø—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ —Ä–æ–±–æ—Ç—É –ø—ñ–∑–Ω—ñ—à–µ

### –ï–∫—Å–ø–æ—Ä—Ç —É OpenCV

**–†–æ–∑—É–º–Ω–∏–π –µ–∫—Å–ø–æ—Ä—Ç:**
- –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∫–ª–∞—Å—É `DrawingOverlay` –∑ –º–µ—Ç–æ–¥–∞–º–∏
- **–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –∫–æ–¥—É** - –≥–µ–Ω–µ—Ä—É—é—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –ø–æ—Ç—Ä—ñ–±–Ω—ñ –º–µ—Ç–æ–¥–∏:
  - `draw_dashed_line()` - —Ç—ñ–ª—å–∫–∏ —è–∫—â–æ —î –ø—É–Ω–∫—Ç–∏—Ä–Ω—ñ –ª—ñ–Ω—ñ—ó
  - `draw_dotted_line()` - —Ç—ñ–ª—å–∫–∏ —è–∫—â–æ —î —Ç–æ—á–∫–æ–≤—ñ –ª—ñ–Ω—ñ—ó
  - `import math` - —Ç—ñ–ª—å–∫–∏ —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–µ–Ω
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ –∑—ñ —Å—Ç–∏–ª—è–º–∏ –¥–ª—è –∫–æ–∂–Ω–æ—ó —Ñ—ñ–≥—É—Ä–∏
- –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ –∫—ñ–Ω—Ü—ñ –∫–æ–¥—É

**–ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ:**
- –°–ª–æ–≤–Ω–∏–∫ –∫–æ–ª—å–æ—Ä—ñ–≤ –¥–ª—è –∑—Ä—É—á–Ω–æ—Å—Ç—ñ
- –í–∏–±—ñ—Ä —Å–∏—Å—Ç–µ–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç:
  - Editor coordinates (0,0 –≤ –ª—ñ–≤–æ–º—É –≤–µ—Ä—Ö–Ω—å–æ–º—É –∫—É—Ç—ñ)
  - Center-based coordinates (0,0 –≤ —Ü–µ–Ω—Ç—Ä—ñ)
- –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —É .py —Ñ–∞–π–ª
- –ö–æ–ø—ñ—é–≤–∞–Ω–Ω—è —É –±—É—Ñ–µ—Ä –æ–±–º—ñ–Ω—É
- –í—Å—ñ —Ç–∏–ø–∏ —Ñ—ñ–≥—É—Ä –ø—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å—Å—è
- –ö–æ–º–µ–Ω—Ç–∞—Ä—ñ –∑—ñ —Å—Ç–∏–ª—è–º–∏ –¥–ª—è –∫–æ–∂–Ω–æ—ó —Ñ—ñ–≥—É—Ä–∏

**–ü—Ä–∏–∫–ª–∞–¥ –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–æ–≥–æ –∫–æ–¥—É:**

*–Ø–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ —Å—É—Ü—ñ–ª—å–Ω—ñ –ª—ñ–Ω—ñ—ó:*
```python
import cv2
import numpy as np

class DrawingOverlay:
    """
    –°–∏—Å—Ç–µ–º–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç: —è–∫ —É —Ä–µ–¥–∞–∫—Ç–æ—Ä—ñ (0,0 –≤ –ª—ñ–≤–æ–º—É –≤–µ—Ä—Ö–Ω—å–æ–º—É –∫—É—Ç—ñ)
    –ö—ñ–ª—å–∫—ñ—Å—Ç—å —Ñ—ñ–≥—É—Ä: 3
    """
    def __init__(self):
        self.colors = {
            'green': (0, 255, 0),
            'red': (0, 0, 255),
        }
    
    def draw(self, frame):
        cv2.line(frame, (100, 200), (300, 200), self.colors['green'], 2, cv2.LINE_AA)
        cv2.circle(frame, (200, 300), 50, self.colors['red'], 3, cv2.LINE_AA)
        cv2.rectangle(frame, (50, 50), (150, 150), self.colors['green'], -1, cv2.LINE_AA)  # filled
        return frame
```

*–Ø–∫—â–æ —î –ø—É–Ω–∫—Ç–∏—Ä–Ω—ñ –ª—ñ–Ω—ñ—ó - –¥–æ–¥–∞—î—Ç—å—Å—è –º–µ—Ç–æ–¥:*
```python
import cv2
import numpy as np
import math  # –î–æ–¥–∞—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ

class DrawingOverlay:
    """
    –°–∏—Å—Ç–µ–º–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç: —è–∫ —É —Ä–µ–¥–∞–∫—Ç–æ—Ä—ñ (0,0 –≤ –ª—ñ–≤–æ–º—É –≤–µ—Ä—Ö–Ω—å–æ–º—É –∫—É—Ç—ñ)
    –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ —Å—Ç–∏–ª—ñ: dashed lines
    –ö—ñ–ª—å–∫—ñ—Å—Ç—å —Ñ—ñ–≥—É—Ä: 2
    """
    def __init__(self):
        self.colors = {'green': (0, 255, 0)}
    
    @staticmethod
    def draw_dashed_line(frame, pt1, pt2, color, thickness=1, dash_length=10):
        """–ú–∞–ª—é–≤–∞–Ω–Ω—è –ø—É–Ω–∫—Ç–∏—Ä–Ω–æ—ó –ª—ñ–Ω—ñ—ó"""
        # ... —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è ...
    
    def draw(self, frame):
        self.draw_dashed_line(frame, (100, 100), (300, 100), self.colors['green'], 2)  # line: dashed
        cv2.line(frame, (100, 150), (300, 150), self.colors['green'], 2, cv2.LINE_AA)
        return frame
```

## –ì–∞—Ä—è—á—ñ –∫–ª–∞–≤—ñ—à—ñ

**–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ä–æ–∑–∫–ª–∞–¥–æ–∫:** –£—Å—ñ –∫–ª–∞–≤—ñ—à—ñ –ø—Ä–∞—Ü—é—é—Ç—å —è–∫ –Ω–∞ –∞–Ω–≥–ª—ñ–π—Å—å–∫—ñ–π, —Ç–∞–∫ —ñ –Ω–∞ —É–∫—Ä–∞—ó–Ω—Å—å–∫—ñ–π —Ä–æ–∑–∫–ª–∞–¥—Ü—ñ —Ç–∞ –Ω–µ –∑–∞–ª–µ–∂–∞—Ç—å –≤—ñ–¥ —Ä–µ–≥—ñ—Å—Ç—Ä—É!

| –ö–ª–∞–≤—ñ—à–∞ (EN/–£–ö–†) | –î—ñ—è |
|------------------|-----|
| P / –ó | –†–µ–∂–∏–º –ø–∞–Ω—É–≤–∞–Ω–Ω—è (–ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è –ø–æ–ª–æ—Ç–Ω–∞) |
| S / –Ü | –†–µ–∂–∏–º –≤–∏–±–æ—Ä—É |
| L / –î | –†–µ–∂–∏–º –ª—ñ–Ω—ñ—ó |
| C / –° | –†–µ–∂–∏–º –∫–æ–ª–∞ |
| T / –ï | –†–µ–∂–∏–º —Ç–µ–∫—Å—Ç—É |
| D / –í | –†–µ–∂–∏–º –∫—Ä–∞–ø–∫–∏ (Point) |
| R / –ö | –†–µ–∂–∏–º –ø—Ä—è–º–æ–∫—É—Ç–Ω–∏–∫–∞ (Rectangle) |
| A / –§ | –†–µ–∂–∏–º —Å—Ç—Ä—ñ–ª–∫–∏ (Arrow) |
| E / –£ | –†–µ–∂–∏–º –µ–ª—ñ–ø—Å–∞ (Ellipse) |
| Y / –ù | –†–µ–∂–∏–º –ø–æ–ª—ñ–≥–æ–Ω—É (Polygon) |
| Escape | –ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ Pan mode |
| Ctrl+C / Ctrl+–° | –ö–æ–ø—ñ—é–≤–∞—Ç–∏ |
| Ctrl+V / Ctrl+–ú | –í—Å—Ç–∞–≤–∏—Ç–∏ |
| Ctrl+S / Ctrl+–Ü | Save Project (JSON) |
| Ctrl+O / Ctrl+–© | Load Project (JSON) |
| Ctrl+E / Ctrl+–£ | Export code (OpenCV) |
| Delete | –í–∏–¥–∞–ª–∏—Ç–∏ –≤–∏–±—Ä–∞–Ω–µ |
| G / –ü | Snap to Grid |
| Z / –Ø | Undo |
| F5 | Export code (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞) |
| 0 / Home | Reset zoom |
| Shift | Constrain line (–ø—ñ–¥ —á–∞—Å –º–∞–ª—é–≤–∞–Ω–Ω—è) |

## –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

```
–°—Ç–≤–æ—Ä–µ–Ω–Ω—è HUD –∑ —Ü–∏—Ñ—Ä–∞–º–∏ —Ç–∞ –µ–ª–µ–º–µ–Ω—Ç–∞–º–∏:
1. –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º Pan mode - —Ä—É—Ö–∞–π—Ç–µ –ø–æ–ª–æ—Ç–Ω–æ –¥–ª—è –ø–æ–∑–∏—Ü—ñ–æ–Ω—É–≤–∞–Ω–Ω—è
2. T ‚Üí –∫–ª—ñ–∫–Ω—ñ—Ç—å ‚Üí –≤–≤–µ–¥—ñ—Ç—å "100" –¥–ª—è HP
3. L ‚Üí –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å —ñ —Ç—è–≥–Ω—ñ—Ç—å ‚Üí –Ω–∞–º–∞–ª—é–π—Ç–µ —Ä–∞–º–∫—É –Ω–∞–≤–∫–æ–ª–æ —Ü–∏—Ñ—Ä–∏
4. C ‚Üí –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å —ñ —Ç—è–≥–Ω—ñ—Ç—å ‚Üí –Ω–∞–º–∞–ª—é–π—Ç–µ –∫–æ–ª–æ
5. S ‚Üí –≤–∏–±–µ—Ä—ñ—Ç—å —Ä–∞–º–∫—É ‚Üí –∑–º—ñ–Ω—ñ—Ç—å –∫–æ–ª—ñ—Ä –Ω–∞ —á–µ—Ä–≤–æ–Ω–∏–π —á–µ—Ä–µ–∑ Color combobox
6. S ‚Üí –≤–∏–±–µ—Ä—ñ—Ç—å –∫–æ–ª–æ ‚Üí –∑–º—ñ–Ω—ñ—Ç—å —Ç–æ–≤—â–∏–Ω—É –Ω–∞ 5px —á–µ—Ä–µ–∑ Thickness spinbox
7. Escape –∞–±–æ P ‚Üí –ø–æ–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –¥–æ Pan, –ø–µ—Ä–µ–º—ñ—Å—Ç—ñ—Ç—å –≤–∏–¥
8. S ‚Üí –≤–∏–±–µ—Ä—ñ—Ç—å –≤—Å–µ (–Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å —ñ —Ç—è–≥–Ω—ñ—Ç—å —Ä–∞–º–∫—É)
9. Flip H ‚Üí —Å—Ç–≤–æ—Ä—ñ—Ç—å –¥–∑–µ—Ä–∫–∞–ª—å–Ω—É –∫–æ–ø—ñ—é –¥–ª—è –¥—Ä—É–≥–æ–≥–æ –≥—Ä–∞–≤—Ü—è
10. Ctrl+E ‚Üí –µ–∫—Å–ø–æ—Ä—Ç—É–π—Ç–µ –≤ OpenCV –∫–æ–¥
```

```
–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö —Ñ—ñ–≥—É—Ä:
1. R ‚Üí –º–∞–ª—é–π—Ç–µ –ø—Ä—è–º–æ–∫—É—Ç–Ω–∏–∫ –¥–ª—è —Ä–∞–º–∫–∏
2. –£–≤—ñ–º–∫–Ω—ñ—Ç—å "Filled" checkbox ‚Üí –Ω–∞—Å—Ç—É–ø–Ω—ñ —Ñ—ñ–≥—É—Ä–∏ –±—É–¥—É—Ç—å –∑–∞–ø–æ–≤–Ω–µ–Ω—ñ
3. E ‚Üí –Ω–∞–º–∞–ª—é–π—Ç–µ –µ–ª—ñ–ø—Å (–±—É–¥–µ –∑–∞–ø–æ–≤–Ω–µ–Ω–∏–π)
4. –í–∏–±–µ—Ä—ñ—Ç—å "Line: dashed" ‚Üí –Ω–∞—Å—Ç—É–ø–Ω—ñ –ª—ñ–Ω—ñ—ó –±—É–¥—É—Ç—å –ø—É–Ω–∫—Ç–∏—Ä–Ω–∏–º–∏
5. A ‚Üí –Ω–∞–º–∞–ª—é–π—Ç–µ —Å—Ç—Ä—ñ–ª–∫—É (–±—É–¥–µ –∑ –ø—É–Ω–∫—Ç–∏—Ä–æ–º)
6. Y ‚Üí –∫–ª—ñ–∫–∞–π—Ç–µ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ–ª—ñ–≥–æ–Ω—É ‚Üí –ø—Ä–∞–≤–∏–π –∫–ª—ñ–∫ –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è
7. D ‚Üí —Å—Ç–∞–≤—Ç–µ –∫—Ä–∞–ø–∫–∏ –¥–ª—è –º—ñ—Ç–æ–∫
8. S ‚Üí –≤–∏–±–µ—Ä—ñ—Ç—å —Ñ—ñ–≥—É—Ä–∏ ‚Üí –∑–º—ñ–Ω—ñ—Ç—å —ó—Ö —Å—Ç–∏–ª—å —á–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤
```

```
–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫—Ä–∏–≤–∏—Ö –ª—ñ–Ω—ñ–π:
1. L ‚Üí –Ω–∞–º–∞–ª—é–π—Ç–µ –ø—Ä—è–º—É –ª—ñ–Ω—ñ—é
2. S ‚Üí –ø–µ—Ä–µ–π–¥—ñ—Ç—å –≤ —Ä–µ–∂–∏–º –≤–∏–±–æ—Ä—É
3. –ö–ª—ñ–∫–Ω—ñ—Ç—å –Ω–∞ —Å–µ—Ä–µ–¥–∏–Ω—É –ª—ñ–Ω—ñ—ó —ñ –ø–æ—Ç—è–≥–Ω—ñ—Ç—å ‚Üí –ª—ñ–Ω—ñ—è —Å—Ç–∞–Ω–µ –∫—Ä–∏–≤–æ—é!
4. –ñ–æ–≤—Ç–∞ —Ç–æ—á–∫–∞ = –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞ —Ç–æ—á–∫–∞ (–º–æ–∂–Ω–∞ —Ä—É—Ö–∞—Ç–∏)
5. –°—ñ—Ä—ñ –ø—É–Ω–∫—Ç–∏—Ä–Ω—ñ –ª—ñ–Ω—ñ—ó –ø–æ–∫–∞–∑—É—é—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫—Ä–∏–≤–æ—ó
6. –ü—Ä–∞—Ü—é—î –∑ –±—É–¥—å-—è–∫–∏–º–∏ –ª—ñ–Ω—ñ—è–º–∏ (solid/dashed/dotted)
7. Ctrl+S ‚Üí –∑–±–µ—Ä–µ–∂—ñ—Ç—å –ø—Ä–æ–µ–∫—Ç –∑ –∫—Ä–∏–≤–∏–º–∏
8. Ctrl+E ‚Üí –µ–∫—Å–ø–æ—Ä—Ç—É–π—Ç–µ (–∫—Ä–∏–≤—ñ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç—É—é—Ç—å—Å—è –≤ OpenCV polylines)
```

```
–†–æ–±–æ—Ç–∞ –∑ –ø—Ä–æ–µ–∫—Ç–∞–º–∏ —Ç–∞ –µ–∫—Å–ø–æ—Ä—Ç–æ–º:
1. –ù–∞–º–∞–ª—é–π—Ç–µ —Å–∫–ª–∞–¥–Ω—É —Ñ—ñ–≥—É—Ä—É –∑ –±–∞–≥–∞—Ç—å–æ—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤
2. Ctrl+S ‚Üí –∑–±–µ—Ä–µ–∂—ñ—Ç—å –ø—Ä–æ–µ–∫—Ç —É JSON (project.json)
3. –ó–∞–∫—Ä–∏–π—Ç–µ –ø—Ä–æ–≥—Ä–∞–º—É
4. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –∑–Ω–æ–≤—É ‚Üí Ctrl+O ‚Üí –∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ project.json
5. –ü—Ä–æ–¥–æ–≤–∂—ñ—Ç—å —Ä–æ–±–æ—Ç—É (–≤—Å–µ –∑–±–µ—Ä–µ–∂–µ—Ç—å—Å—è —Ç–æ—á–Ω–æ)
6. Ctrl+E ‚Üí –µ–∫—Å–ø–æ—Ä—Ç—É–π—Ç–µ –≤ OpenCV –∫–æ–¥
7. –í–∏–±–µ—Ä—ñ—Ç—å —Å–∏—Å—Ç–µ–º—É –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
8. –ó–±–µ—Ä–µ–∂—ñ—Ç—å —è–∫ overlay.py
9. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –≤ —Å–≤–æ—î–º—É OpenCV –ø—Ä–æ–µ–∫—Ç—ñ:
   ```python
   from overlay import DrawingOverlay
   overlay = DrawingOverlay()
   frame = overlay.draw(frame)
   ```
```

## –ó–∞–ø—É—Å–∫

```bash
cd pyqt_app
python opencv_draw_editor_new.py
```

## –í–∏–º–æ–≥–∏

- Python 3.6+
- PyQt5
- OpenCV (—Ç—ñ–ª—å–∫–∏ –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–æ–≥–æ –∫–æ–¥—É)

